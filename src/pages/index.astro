---
import "../styles/global.css";
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link rel="icon" href="/favicon.ico" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>Astro + Tailwind 4 + Ledding</title>
    </head>
    <body
        class="bg-gray-950 text-white m-0 p-0 overflow-hidden flex items-center justify-center h-screen w-screen"
    >
        <div id="led-container" class="w-full h-full relative"></div>

        <script>
            import {
                Ledding,
                CircleRenderer,
                CenterAligner,
                Directions,
                Pattern,
            } from "ledding";
            import { LED_CONFIG } from "../data/led-config";

            // Wait for DOM
            document.addEventListener("DOMContentLoaded", () => {
                const ledding = new Ledding("#led-container", {
                    ledSize: 15, // Reduced size for larger pattern
                    ledGap: 4, // Reduced gap
                    artPattern: LED_CONFIG.pattern,
                    renderer: CircleRenderer,
                    aligner: CenterAligner,
                    scaleToFit: true,
                    colors: LED_CONFIG.colors,
                    transitions: {
                        ignition: { min: 0.1 },
                        extinction: { min: 0.1 },
                        morph: { min: 0.1 },
                    },
                    animation: {
                        scroll: {
                            direction: Directions.TO_RIGHT,
                            speed: 8,
                        },
                        ignition: {
                            pattern: Pattern.CASCADE,
                            direction: Directions.TO_TOP,
                            delay: 1,
                            step: 1,
                        },
                        extinction: {
                            pattern: Pattern.CASCADE,
                            direction: Directions.TO_BOTTOM,
                            delay: 1,
                            step: 1,
                        },
                    },
                    grid: {
                        fill: false,
                        lifespan: 60,
                    },
                    fps: 60,
                });

                console.log("Ledding initialized with custom config");
            });
        </script>
    </body>
</html>
